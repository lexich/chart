!function(){var n={},M=n.__assign||function(){return(M=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++)for(var e in t=arguments[r])Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n}).apply(this,arguments)},T={main:"_main_24519",tool:"_tool_24519",moving:"_moving_24519",left:"_left_24519",right:"_right_24519",checkbox:"_checkbox_24519",text:"_text_24519",input:"_input_24519",mark:"_mark_24519",bg:"_bg_24519",border:"_border_24519",tick:"_tick_24519",btnLinks:"_btnLinks_24519",image:"_image_24519",tootip:"_tootip_24519",canvas:"_canvas_24519",dark:"_dark_24519"},A=document,P=window;function c(n,t){"string"==typeof t?n.appendChild(A.createTextNode(t)):n.appendChild(t)}function S(n,t,r,i){n.addEventListener(t,r,i)}function R(n,t,r,i){n.removeEventListener(t,r,i)}function z(n){return n.getContext("2d")}function k(n){return n.beginPath()}function w(n){n.save()}function L(n,t,r){n.moveTo(t,r)}function E(n,t,r){n.lineTo(t,r)}var G="end",j="start",C="loop",y=requestAnimationFrame;function X(i,n){for(var t=function(i,c){var e,o=1;void 0!==c.start&&(o=c.start),e=void 0!==c.end?c.end:c.x.length-1;var a=o,u=c.min,f=c.max;function s(n,t,r){void 0===r&&(r=-1);var i=c.x[t],e=c.y[t],o=c.y[t+r],a=c.x[t+r];return(e-o)/(i-a)*(n-a)+o}return function(){if(e<a)return!1;var n=c.x[a],t=c.y[a],r=a===o?j:C;if(void 0!==u){for(;n<=u&&a<=e;)a++,n=c.x[a];if(a-1<o)return!1;t=s(u,a),n=u,u=void 0,r=j,a--}else void 0!==f&&f<=n&&(t=s(f,a),n=f,r=G);return a===e&&(r=G),i(n,t,r,a),a++,r!==G}}(function(n,t,r){i(r,r!==j?"L":"M",n,t)},n);t(););}var e=" webkit moz o ms".split(" "),i=e.map(function(n){return n?"-"+n+"-":n});var o=function(){var n=z(A.createElement("canvas")),t=P.devicePixelRatio||1,r=0;for(var i in e)if(r=n[i+(i?"B":"b")+"ackingStorePixelRatio"])break;return t/(r||1)}(),a=o;function D(n,t,r,i){i||(i=o),n.width=t*i,n.height=r*i,n.style.width=t+"px",n.style.height=r+"px",z(n).scale(i,i)}var u=function(n,t){if("ontouchstart"in n||n.DocumentTouch&&t instanceof n.DocumentTouch)return!0;var r=["(",i.join("touch-enabled),("),"heartz",")"].join("");return n.matchMedia(r).matches}(P,A),f=u?"touchstart":"mousedown",s=u?"touchend":"mouseup",l=u?"touchmove":"mousemove";function F(n,r){var i=-1;function t(n){if(-1!==i){var t=e(n)-i;r(C,t,i)}}function e(n){return u?(n.touches[0]||n.changedTouches[0]).pageX:n.clientX}function o(){r(G,0,-1),i=-1,R(A,s,o),R(A,l,t)}function a(n){n.preventDefault(),n.stopPropagation(),i=e(n),r(j,0,i),S(A,s,o),S(A,l,t)}return S(n,f,a),function(){R(n,f,a)}}function W(n,t,r,i){var e="string"==typeof n?A.createElement(n):n;if(t)for(var o in t){var a=t[o];a instanceof Function?S(e,o,a):e.setAttribute(o,a)}return r&&(i&&(e.innerHTML=""),Array.isArray(r)?r.forEach(function(n){return c(e,n)}):c(e,r)),e}function I(n){return n.max-n.min}var N=Number.MIN_SAFE_INTEGER,B=Number.MAX_SAFE_INTEGER,O="#f0f1f4",r="#a6abad",m=1e3;function H(b){var e=W("canvas"),n=z(e),o=function(l){var m={fontSize:12,fontFamily:"arial, sans-serif",style:r},v=m.fontSize+"px "+m.fontFamily,t=l.width,i=l.height,x=l.ctx,h=M({x1:0,y1:0,x2:t,y2:i,p2:0},l.viewPort);function n(r){var n=!1;void 0!==r.height&&(n=!0,i=r.height),void 0!==r.width&&(n=!0,t=r.width),r.viewPort?Object.keys(r.viewPort).forEach(function(n){var t=n;h[t]=r.viewPort[t]}):n&&(h.x1=0,h.y1=0,h.y2=i,h.x2=t)}return n(l),{animate:function(n,t,r,f){var s;return function(o,a,c,u,f,s){var l=-1,m=!1;function v(n){-1===l&&(l=n);var t=n-l;if(!m){if(0==t)f(o,o,a,0);else{var r=c<t?c:t,i=s?s(r,c):r/c,e=u(o,a,i);f(e,o,a,i)}o!==a&&t<c&&y(v)}}return{start:function(){m=!(l=-1),y(v)},stop:function(){m=!0},run:v}}(t,r,n,K,function(r,n,t,i){x.clearRect(h.x1,h.y1,h.x2-h.x1,h.y2-h.y1),r.onlyGraph||function(n,t){var r=(t.y2-t.y1-t.p2)/5;w(n),k(n);for(var i=0;i<=5;i++){var e=t.y1+i*r;L(n,t.x1,e),E(n,t.x2,e)}n.strokeStyle=O,n.stroke(),n.restore()}(x,h);var e=t.onlyGraph?M({},h,{p2:0}):h;if(r.yLines.forEach(function(n,t){r.visible[t]&&function(a,n,t,r,i,c,u,e,f){var o=r.max,s=r.min,l=i.min,m=i.max;void 0===f&&(f=1);var v=e.x1,x=e.x2,h=e.y1,y=e.y2,d=e.p2,p=(x-v)/(o-s),g=(y-d-h)/(m-l);X(function(n,t,r,i){n===j&&(w(a),k(a));var e=Math.floor(v+(r-s)*p),o=Math.floor(y-d-(i-l+f)*g);"M"===t?L(a,e,o):"L"===t&&E(a,e,o),n===G&&(a.strokeStyle=u,a.lineWidth=f,a.globalAlpha=c,a.lineCap=a.lineJoin="round",a.stroke(),a.restore())},{x:n,y:t,min:s,max:o})}(x,r.xLine,n,r.rx,r.ry,r.visible[t],r.colors[t],e,l.lineWidth)}),!r.onlyGraph){var o=h.y2-h.y1,a=h.x2-h.x1,c=Y(n.rx,t.rx),u=Y(n.ry,t.ry);w(x),x.fillStyle=m.style,x.font=v,x.globalAlpha=1-i,(s=M({},h)).x1-=a*i*c.p.min,s.x2+=a*i*c.p.max,d(x,s,n.rx,5,l.formatX),(s=M({},h)).y1+=o*i*u.p.min,s.y2-=o*i*u.p.max,p(x,s,n.ry,5),x.restore(),w(x),x.fillStyle=m.style,x.font=v,x.globalAlpha=i,(s=M({},h)).x1-=a*(1-i)*c.n.min,s.x2+=a*(1-i)*c.n.max,d(x,s,t.rx,5,l.formatX),(s=M({},h)).y1+=o*(1-i)*u.n.min,s.y2-=o*(1-i)*u.n.max,p(x,s,t.ry,5),x.restore()}f&&f()},g)},size:n}}(M({},b,{ctx:n}));function _(n,t){n.clearRect(t.x1,t.y1,t.x2,t.y2),n.drawImage(e,t.x1,t.y1,t.x2,t.y2)}return{animate:function(n,t,r,i){return o.animate(m,t,r,function(){return _(n,i)})},size:function(n){var t=M({},n),r=t.width||e.width,i=t.height||e.height;D(e,r,i,a),o.size(t)},image:function(n){var t=n.onlyGraph;return n.onlyGraph=!0,o.animate(0,n,n).run(0),n.onlyGraph=t,e.toDataURL("image/png")},pos:function(i,o,n,t,r){var e=t.x1,a=t.x2,c=t.y1,u=t.p2,f=t.y2-u,s=I(o.rx)/(a-e),l=o.rx.min+s*n;_(i,t);var m=o.xLine,v=o.visible,x=q(o.xLine,1,l,1),h=m[x],y=m[x+1],d=(l-o.rx.min)/(o.rx.max-o.rx.min),p=Math.round(d*(a-e));w(i),k(i),L(i,p,c),E(i,p,f),i.strokeStyle=O,i.stroke(),i.restore();var g=new Array(o.yLines.length);o.yLines.map(function(n,t){if(v[t]){var r=n[x],i=r+(n[x+1]-r)/(y-h)*(l-h),e=(i-o.ry.min)/(o.ry.max-o.ry.min);return g[t]=i,Math.round(f-u-(f-c)*e)}}).forEach(function(n,t){if(void 0!==n){w(i),k(i);var r=3*b.lineWidth/2;i.lineWidth=b.lineWidth,i.strokeStyle=o.colors[t],i.arc(p,n,r,0,2*Math.PI),i.stroke(),i.lineWidth=0,i.clip(),i.clearRect(p-r,n-r,2*r,2*r),i.restore()}}),r(l,g)}}}function d(n,t,r,i,e){for(var o=I(r)/i,a=(t.x2-t.x1-40)/i,c=0;c<=i;c++){var u=r.min+o*c,f=e?e(u):""+u;n.fillText(f,t.x1+a*c,t.y2-5,50)}}function p(n,t,r,i,e){for(var o,a=r.max,c=r.min,u=(a-c)/5,f=(t.y2-t.y1-t.p2)/i,s=0;s<=i;s++){var l=t.y1+s*f;L(n,t.x1,l),E(n,t.x2,l)}for(s=0;s<=i;s++){l=t.y1+s*f,o=Math.round(c+u*(5-s));var m=e?e(o):""+o;n.fillText(m,t.x1,l-10)}}function q(n,t,r,i){for(;1===i?r>n[t]:r<n[t];)t+=i;return t-i}function J(e){var o={max:N,min:B},a=!0,n=e.xLine,t=e.rx,c=q(n,1,t.min,1),u=q(n,n.length-1,t.max,-1);return e.yLines.forEach(function(n,t){if(e.visible[t]){a=!1;for(var r=c;r<=u;r++){var i=n[r];o.min>i&&(o.min=i),o.max<i&&(o.max=i)}}}),a?e.ry:o}function U(n){return new Array(n)}function g(n,t){var r=n/t;return r<.5?2*r*r:(4-2*r)*r-1}function Y(n,t){var r=I(n),i=I(t),e=t.min-n.min,o=t.max-n.max;return{p:{min:e/r,max:o/r},n:{min:e/i,max:o/i}}}function K(n,r,i){var t=M({},r);return t.rx=x(n,r,i,"rx"),t.ry=x(n,r,i,"ry"),t.visible=n.visible.map(function(n,t){return v(n,r.visible[t],i)}),t}function v(n,t,r){return n+(t-n)*r}function x(n,t,r,i){return{min:v(n[i].min,t[i].min,r),max:v(n[i].max,t[i].max,r)}}var Q="div";function V(n){return new Date(n).toString().split(" ")}function Z(n){var t=V(n);return t[1]+" "+t[2]}function h(n){var c,u=function(e){var o={max:N,min:B},n=e.columns.length-1,a={ry:null,rx:o,yLines:U(n),xLine:[],colors:U(n),visible:U(n),names:U(n),onlyGraph:!1},c=0,t=function(t){var n=e.columns.find(function(n){return n[0]===t});if(!n)return"continue";var r=n.length-1;if("x"===e.types[t])a.xLine=n,o.min=n[1],o.max=n[r];else{var i=(a.yLines[c]=n)[0];a.colors[c]=e.colors[i]||"black",a.visible[c]=1,a.names[c]=e.names[i]||"",c++}};for(var r in e.types)t(r);return a.ry=J(a),a}(n),f=1,s=I(u.rx),a=M({},u);a.rx={min:u.rx.min,max:u.rx.min+.5*s},a.ry=J(a);var l={x1:0,y1:0,x2:f,y2:340,p2:20},m=H({width:f,height:360,lineWidth:3,formatX:Z,viewPort:l}),v=function(o,a){var n=o.names.map(function(n,t){var r="checkbox-"+t,i=W("input",{type:"checkbox",name:r,id:r,checked:!!o.visible[t],class:T.input,click:function(){return a(t,i.checked)}}),e=o.colors[t]||"blue";return W("label",{class:T.checkbox,for:r},[W(Q,{class:T.text},n),i,W(Q,{class:T.mark+" "+T.bg,style:"background:"+e}),W(Q,{class:T.mark+" "+T.border,style:"border-color:"+e}),W(Q,{class:T.mark+" "+T.tick})])}),t=W("tbody"),r=W("table",{class:T.tootip},t),i=W(Q,{class:T.btnLinks},n),e=W("canvas",{class:T.canvas}),c=W("img"),u=W(Q,{class:T.moving}),f=W(Q,{class:T.left}),s=W(Q,{class:T.right});return{body:W(Q,{class:T.main},[e,W(Q,{class:T.tool},[c,f,s,u]),i,r]),canvas:e,image:c,moving:u,left:f,right:s,tooltip:t,table:r}}(a,function(n,t){var r=a.visible.concat();r[n]=+t;var i=M({},a,{visible:r});i.ry=J(i),o(a,i),a=i}),x=v.canvas,t=v.image,h=v.moving,r=v.body,y=v.left,d=v.right,i=!1;function e(n){n.target!==x&&(W(v.table,{style:"opacity:0;"}),o(a,a),i=!1,R(A,"mousemove",e))}function o(n,t){c&&(c.stop(),c=void 0);var r=I(t.rx),i=f*r/s,e=(t.rx.min-u.rx.min)/s,o=f*e;h.style.width=i+"px",h.style.left=o+"px",y.style.width=o+"px",d.style.width=f-o-i+"px";var a=z(x);a&&(c=m.animate(a,n,t,l)),c&&c.start()}W(x,{mousemove:function(o){var n=z(x);n&&(i||(i=!0,S(A,"mousemove",e)),m.pos(n,a,o.offsetX,l,function(n,t){var r=t.map(function(n,t){return W("td",{style:"color:"+a.colors[t]},[W(Q,0,n.toFixed(2)),a.names[t]])}),i=V(n),e=W("td",{colspan:r.length},i[0]+", "+i[1]+" "+i[2]);W(v.table,{style:"top:"+o.clientY+"px;left:"+o.clientX+"px;opacity:1;"}),W(v.tooltip,0,[W("tr",0,e),W("tr",0,r)],!0)}))}});var p=-1,g=0,b=a,_=.02*s;function k(){b=a;var n=h.getBoundingClientRect();p=n.left;var t=h.parentElement;t&&(p-=t.getBoundingClientRect().left)}function w(n){var t=p+n;return t<=0&&(t=0),f<t&&(t=f),t/f}function L(n,t){var r=M({},a);r.rx={min:n,max:t},r.ry=J(r),o(b,r),a=r}function E(){f=r.getBoundingClientRect().width,l.x2=f,D(x,f,360),m.size({width:2*f,height:90}),t.width=f,t.height=45,t.src=m.image(u),m.size({width:f,height:360,viewPort:l}),o(a,a)}return F(d,function(n,t){if(n===j)k(),g=I(a.rx);else if(n===C){var r=w(t),i=u.rx.min+r*s+g,e=a.rx.min;i<e-_&&(i=e+_),L(e,i)}}),F(y,function(n,t){if(n===j)k();else if(n===C){var r=w(t),i=u.rx.min+r*s,e=a.rx.max;e<i+_&&(i=e-_),L(i,e)}}),F(h,function(n,t){if(n===j)k();else if(n===C){var r=w(t),i=u.rx.min+r*s,e=i+I(a.rx);e>u.rx.max&&(i-=e-u.rx.max,e=u.rx.max),L(i,e)}}),{attach:function(n){W(n,0,v.body),W(P,{resize:E}),E()}}}W(A,{DOMContentLoaded:function(){fetch(location.pathname+"chart_data.json").then(function(n){return n.json()}).then(function(n){n.forEach(function(n){h(n).attach(A.body)})});var t=A.getElementById("theme");t&&W(t,{click:function(){var n=A.body.classList;n.contains(T.dark)?(n.remove(T.dark),t.innerHTML="Dark Theme"):(n.add(T.dark),t.innerHTML="Light Theme")}})}}),"object"==typeof exports&&"undefined"!=typeof module?module.exports=n:"function"==typeof define&&define.amd&&define(function(){return n})}();